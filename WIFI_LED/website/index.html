<!DOCTYPE html>
<html>
<head>
	<title>Switch Example</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
	<h2>Switch Example</h2>
	<div class="container">
	<label class="switch">
		<input type="checkbox" id="plain">
		<span class="slider"></span>
	</label>
	</div>
	<p id="status">Switch is OFF</p>
	<script>
		// Define the ESP32 endpoint to send the data to
		const endpoint = 'http://192.168.1.9:80/switch';

		// Get the switch element and the status element
		const switchElem = document.getElementById('plain');
		const statusElem = document.getElementById('status');
		// Listen for changes in the switch element
		switchElem.addEventListener('change', () => {
			// Update the status text
			if (switchElem.checked) {
				statusElem.innerText = 'Switch is ON';
			} else {
				statusElem.innerText = 'Switch is OFF';
			}
			fetch(endpoint, {method : 'POST', body: JSON.stringify({plain: switchElem.checked, headers: "application/json"})})
		});
	</script>
</body>
</html>
